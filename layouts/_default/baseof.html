<!DOCTYPE html>
<html lang="{{ .Site.Language }}">
    <head>
        {{ partial "head.html" . }}

        <!-- Process SCSS and output CSS -->
        {{ $styles := resources.Get "scss/custom.scss" | resources.ToCSS }}
        <link rel="stylesheet" href="{{ $styles.RelPermalink }}">

        <style>
            /* Ensure the canvas is the background */
            body, html {
                margin: 0;
                padding: 0;
                height: 100%;
                width: 100%;
                overflow-x: hidden;
            }
            body {
                position: relative;
            }
            .content-wrapper {
                position: relative;
                z-index: 1; /* Ensure content is above the canvas */
                background-color: rgba(34, 36, 38, 1); /* Add a semi-transparent background to the content */
                padding: 5px;
                max-width: 860px;
                margin: 5px auto; /* Center the content */

                display: flex;
                flex-direction: column;
                justify-content: center; /* Vertically center the content if it's shorter than the viewport */
                /*justify-content: flex-start; /* Prevent vertical centering */
                /*align-self: flex-start; /* Align content to the start, not stretching */
                flex-grow: 0; /* Prevent it from stretching vertically */
                /*flex-shrink: 0; /* Prevent shrinking if space is available */            }
            canvas {
                position: fixed;
                top: 0;
                left: 0;
                z-index: -10; /* Canvas stays in the background */
                width: 100vw;
                height: 100vh;
                pointer-events: none;
            }
        </style>
    </head>

    {{ block "body" . }}
        <body>
    {{ end }}

        <!-- Dynamic canvas for background animation -->
        <canvas id="latticeCanvas"></canvas>

        <!-- Reference to external JavaScript file -->
        <script src="{{ "js/background.js" | relURL }}"></script>

        <div class="container">
            {{ partial "header.html" . }}

            <div class="content content-wrapper">
                {{ block "main" . }}{{ end }}
            </div>


            {{ block "footer" . }}
                {{ partial "footer.html" . }}
            {{ end }}
        </div>

        {{ partial "javascript.html" . }}



    </body>
</html>
